# lefthook.yml
# Git ãƒ•ãƒƒã‚¯ã®è‡ªå‹•åŒ–è¨­å®š

# pre-commit ãƒ•ãƒƒã‚¯
pre-commit:
  parallel: true
  commands:
    sync-shared:
      run: ./scripts/sync-shared.sh
      tags: sync
      glob: "packages/shared/src/**/*"
      
    lint:
      run: npm run lint
      tags: lint
      
    type-check:
      run: npm run type-check
      tags: typecheck

# pre-push ãƒ•ãƒƒã‚¯
pre-push:
  parallel: false
  commands:
    sync-shared:
      run: ./scripts/sync-shared.sh
      tags: sync
      
    build:
      run: npm run build
      tags: build
      skip:
        - merge
        - rebase

# commit-msg ãƒ•ãƒƒã‚¯ï¼ˆä¸€æ™‚çš„ã«ç„¡åŠ¹åŒ–ï¼‰
# commit-msg:
#   commands:
#     check-message:
#       run: |
#         if ! head -1 "$1" | grep -qE "^(feat|fix|docs|style|refactor|test|chore|perf|build|ci|revert)(\(.+?\))?: .{1,100}"; then
#           echo "âŒ ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¦ç´„ã«å¾“ã£ã¦ã„ã¾ã›ã‚“"
#           echo "ğŸ“ ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ: <type>(<scope>): <subject>"
#           exit 1
#         fi

# è¨­å®š
skip_output:
  - meta
  - summary