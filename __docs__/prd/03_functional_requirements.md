# PawMatch 機能要件書

## 1. 機能概要

### 1.1 主要機能分類
- **Core機能**: スワイプマッチング、動物カード表示
- **管理機能**: お気に入り管理、履歴管理
- **補助機能**: フィルタリング、検索
- **UI/UX機能**: アニメーション、レスポンシブデザイン

### 1.2 ユーザージャーニー
1. **アプリ選択**: DogMatch / CatMatch の選択
2. **動物閲覧**: スワイプによる動物の閲覧
3. **アクション実行**: Like / Pass / SuperLike
4. **結果確認**: お気に入りリストの確認
5. **履歴管理**: スワイプ履歴の確認・管理

## 2. 詳細機能仕様

### 2.1 アプリケーション選択機能

#### 2.1.1 機能概要
- DogMatch（犬専用）とCatMatch（猫専用）の選択画面
- 各アプリの特徴説明表示
- 選択後の専用アプリケーション起動

#### 2.1.2 画面仕様
```
[AppSelector Component]
├── Header: "PawMatch - あなたの理想のパートナーを見つけよう"
├── DogMatch Card:
│   ├── 犬のアイコン
│   ├── "保護犬とのマッチング"
│   └── "犬専用の詳細フィルター"
├── CatMatch Card:
│   ├── 猫のアイコン
│   ├── "保護猫とのマッチング"
│   └── "猫専用の詳細フィルター"
└── Footer: "どちらも試すことができます"
```

#### 2.1.3 操作仕様
- **選択方法**: カードクリック/タップ
- **視覚フィードバック**: ホバーエフェクト、タップエフェクト
- **遷移**: フェードイン/アウトアニメーション

### 2.2 スワイプマッチング機能

#### 2.2.1 機能概要
- Tinderライクなスワイプ操作
- 3つのアクション（Like/Pass/SuperLike）
- リアルタイムビジュアルフィードバック
- スムーズなカードトランジション

#### 2.2.2 操作仕様
```
スワイプ操作:
├── 左スワイプ/左ボタン → Pass（興味なし）
├── 右スワイプ/右ボタン → Like（気になる）
├── 上スワイプ/上ボタン → SuperLike（特に気になる）
└── 下スワイプ → 無効（元の位置に戻る）

判定閾値:
├── 水平方向: 100px以上
├── 垂直方向: 120px以上
└── 速度: 0.5px/ms以上で判定優先
```

#### 2.2.3 ビジュアルフィードバック
```
ドラッグ中のエフェクト:
├── 回転: X軸移動量 × 0.1度
├── 透明度: 0.7 - 1.0（移動距離に応じて）
├── カラーオーバーレイ:
│   ├── 緑: Like（右方向）
│   ├── 赤: Pass（左方向）
│   └── 青: SuperLike（上方向）
└── 次カードの表示: 奥に次のカードが見える
```

### 2.3 動物カード表示機能

#### 2.3.1 共通カード情報
```
AnimalCard Layout:
├── 画像エリア（上部70%）
│   ├── メイン画像
│   ├── 画像インジケーター（複数枚の場合）
│   └── 画像切り替え（左右タップ）
├── 情報エリア（下部30%）
│   ├── 名前（大）
│   ├── 基本情報（年齢・性別・サイズ）
│   ├── 場所
│   └── 特徴タグ
└── アクションボタン（下部固定）
    ├── Pass（×）
    ├── Like（♥）
    └── SuperLike（★）
```

#### 2.3.2 犬専用カード情報
```
Dog Specific Info:
├── 犬種
├── 運動量: "低・中・高" バッジ
├── しつけレベル: "基本済み・要訓練" バッジ
├── 散歩頻度: "1日2回" 等
├── 相性情報:
│   ├── 子供OK: アイコン表示
│   ├── 他犬OK: アイコン表示
│   └── 庭必要: アイコン表示
└── 健康状態: "健康・要注意" バッジ
```

#### 2.3.3 猫専用カード情報
```
Cat Specific Info:
├── 猫種
├── 毛の長さ: "短毛・長毛" バッジ
├── 社会性: "シャイ・フレンドリー" バッジ
├── 住環境: "室内・室外OK" バッジ
├── 相性情報:
│   ├── 多頭飼いOK: アイコン表示
│   ├── 鳴き声レベル: "静か・普通・よく鳴く"
│   └── 活動時間: "昼型・夜型" バッジ
└── 健康状態: "健康・FIV等" バッジ
```

### 2.4 お気に入り管理機能

#### 2.4.1 機能概要
- 3つのカテゴリー別リスト管理
- 各リストでの個別操作
- 進捗状況の可視化

#### 2.4.2 リスト構成
```
お気に入り管理:
├── Like リスト（気になる）
│   ├── 表示: グリッド形式
│   ├── 操作: 詳細表示、削除、SuperLikeに移動
│   └── 件数表示
├── SuperLike リスト（特に気になる）
│   ├── 表示: 大きめのカード形式
│   ├── 操作: 詳細表示、削除、Likeに移動
│   └── 件数表示
└── Pass リスト（パス済み）
    ├── 表示: 小さめのリスト形式
    ├── 操作: 詳細表示、削除、Likeに移動
    └── 件数表示（参考用）
```

#### 2.4.3 操作機能
```
個別操作:
├── 詳細表示: モーダルで全情報表示
├── カテゴリー移動: 他のリストへの移動
├── 削除: リストから完全削除
├── メモ機能: 個人的なメモ追加
└── 連絡先表示: 保護団体情報表示
```

### 2.5 履歴管理機能

#### 2.5.1 機能概要
- 全スワイプアクションの記録
- 時系列での履歴表示
- 進捗状況の可視化
- Undo機能（制限付き）

#### 2.5.2 履歴表示
```
履歴画面:
├── 統計情報
│   ├── 総スワイプ数
│   ├── Like率
│   ├── SuperLike率
│   └── Pass率
├── 履歴リスト
│   ├── 日付別グループ
│   ├── 動物情報（サムネイル）
│   ├── アクション（Like/Pass/SuperLike）
│   └── 時刻
└── 進捗表示
    ├── プログレスバー
    ├── 残り動物数
    └── 完了率
```

### 2.6 フィルタリング機能

#### 2.6.1 共通フィルター
```
基本フィルター:
├── 年齢
│   ├── 子供（0-1歳）
│   ├── 若い（1-3歳）
│   ├── 成人（3-7歳）
│   └── シニア（7歳以上）
├── 性別
│   ├── オス
│   └── メス
├── サイズ
│   ├── 小型
│   ├── 中型
│   └── 大型
└── 場所
    ├── 距離範囲選択
    └── 地域選択
```

#### 2.6.2 犬専用フィルター
```
犬特有フィルター:
├── 犬種
│   ├── 人気犬種リスト
│   ├── 全犬種検索
│   └── MIX犬
├── 運動量
│   ├── 低（散歩軽め）
│   ├── 中（標準的）
│   └── 高（アクティブ）
├── しつけレベル
│   ├── 基本済み
│   ├── 要訓練
│   └── 問題行動あり
└── 相性
    ├── 子供との相性
    ├── 他犬との相性
    └── 住環境要件
```

#### 2.6.3 猫専用フィルター
```
猫特有フィルター:
├── 猫種
│   ├── 人気猫種リスト
│   ├── 全猫種検索
│   └── MIX猫
├── 毛の長さ
│   ├── 短毛
│   └── 長毛
├── 社会性
│   ├── シャイ
│   ├── フレンドリー
│   └── とてもフレンドリー
└── 住環境
    ├── 完全室内
    ├── 室内外自由
    └── 多頭飼い適性
```

### 2.7 検索機能

#### 2.7.1 検索方法
```
検索機能:
├── テキスト検索
│   ├── 動物名
│   ├── 犬種・猫種
│   └── 説明文
├── 保存済み検索
│   ├── 検索条件の保存
│   ├── 名前付き保存
│   └── クイックアクセス
└── 人気検索
    ├── よく使われる条件
    ├── 地域別人気
    └── 年齢別人気
```

### 2.8 アクションボタン機能

#### 2.8.1 ボタン配置
```
アクションボタン:
├── 配置: 画面下部固定
├── サイズ: 大きめ（タップしやすい）
├── 間隔: 十分な間隔
└── 視覚的区別: 色とアイコンで明確化
```

#### 2.8.2 ボタン仕様
```
Pass ボタン:
├── アイコン: × （赤色）
├── 位置: 左
├── ショートカット: 左矢印キー
└── アニメーション: 押下時に拡大縮小

Like ボタン:
├── アイコン: ♥ （緑色）
├── 位置: 右
├── ショートカット: 右矢印キー
└── アニメーション: 押下時にハート効果

SuperLike ボタン:
├── アイコン: ★ （青色）
├── 位置: 中央上
├── ショートカット: 上矢印キー
└── アニメーション: 押下時にスター効果
```

### 2.9 進捗管理機能

#### 2.9.1 進捗表示
```
進捗情報:
├── 現在位置: "5 / 120"
├── プログレスバー: 視覚的進捗
├── 残り時間予測: 平均スワイプ時間から算出
└── 完了予定: "あと約15分"
```

#### 2.9.2 セッション管理
```
セッション機能:
├── 一時停止: 現在位置の保存
├── 再開: 前回の続きから
├── リセット: 最初からやり直し
└── 複数セッション: 異なる条件での並行実行
```

### 2.10 エラーハンドリング

#### 2.10.1 エラーケース
```
エラー処理:
├── 画像読み込み失敗
│   ├── プレースホルダー表示
│   ├── 再試行ボタン
│   └── スキップ機能
├── データ取得失敗
│   ├── オフライン検知
│   ├── 再接続試行
│   └── キャッシュデータ利用
└── 操作エラー
    ├── 重複操作の防止
    ├── エラーメッセージ表示
    └── 安全な状態への復帰
```

## 3. 非機能要件

### 3.1 パフォーマンス要件
- **初期読み込み**: 3秒以内
- **スワイプ応答**: 100ms以内
- **画像読み込み**: 2秒以内
- **アニメーション**: 60fps維持

### 3.2 ユーザビリティ要件
- **操作性**: 直感的な操作
- **アクセシビリティ**: WAI-ARIA対応
- **多言語対応**: 日本語・英語
- **デバイス対応**: PC・スマートフォン・タブレット

### 3.3 拡張性要件
- **新機能追加**: モジュール化設計
- **データ拡張**: 動物情報の項目追加
- **API連携**: 外部サービス連携準備
- **多地域対応**: 地域別データ管理

### 3.4 セキュリティ要件
- **データ保護**: 個人情報の暗号化
- **入力検証**: XSS対策
- **通信暗号化**: HTTPS必須
- **プライバシー**: データ使用の透明性