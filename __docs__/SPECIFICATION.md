# PawMatch - 犬・猫専門マッチングアプリ仕様書

## 概要
TinderライクなUIUXを持つ、保護犬・保護猫とユーザーをマッチングするモバイル・ウェブアプリケーション

### 特化戦略
本アプリケーションは犬と猫に特化し、以下の2つの独立したクライアントアプリを提供します：
- **DogMatch**: 保護犬専門マッチングアプリ
- **CatMatch**: 保護猫専門マッチングアプリ

この特化戦略により、各動物種に最適化されたユーザー体験とより精密なマッチング機能を実現します。

## 主要機能一覧

### 1. ユーザー管理機能
- **ユーザー登録・ログイン**
  - メールアドレス・パスワード認証
  - ソーシャルログイン（Google、Apple、Facebook）
  - 電話番号認証（SMS）
- **プロフィール管理**
  - 基本情報（名前、年齢、住所、職業）
  - 住環境情報（住居タイプ、庭の有無、家族構成）
  - ペット飼育経験
  - 希望条件設定（動物の種類、年齢、サイズ等）

### 2. 動物情報管理機能

#### 犬専用情報管理（DogMatch）
- **犬プロフィール作成**
  - 基本情報（名前、犬種、年齢、性別、サイズ）
  - 犬種特有の特徴・気質
  - 散歩・運動要件
  - 訓練レベル・しつけ状況
  - 健康状態・医療履歴（関節、皮膚、アレルギー等）
  - 写真・動画アップロード（最大10枚）
  - 他の犬・子供との相性
  - 住環境要件（庭、アパートOK等）

#### 猫専用情報管理（CatMatch）
- **猫プロフィール作成**
  - 基本情報（名前、猫種、年齢、性別、毛の長さ）
  - 猫種特有の特徴・性格
  - 室内外飼育適性
  - 社会性レベル（人懐っこさ、警戒心等）
  - 健康状態・医療履歴（FIV/FeLV、口内炎等）
  - 写真・動画アップロード（最大10枚）
  - 多頭飼い適性
  - 特別なケア要件（グルーミング、アレルギー対応等）

#### 共通機能
- **保護団体情報**
  - 団体プロフィール
  - 所在地・連絡先
  - 譲渡条件・手続き
  - 動物種別の専門性表示

### 3. マッチング機能
- **Tinderライクスワイプ機能**
  - 右スワイプ（気になる - Like）
  - 左スワイプ（パス - Pass）  
  - 上スワイプ（特に気になる - Super Like）
  - スワイプ中のリアルタイムビジュアルフィードバック
  - スムーズなアニメーション効果とトランジション
  - マウス・タッチの両方に対応したジェスチャー認識
- **カード表示システム**
  - 現在のカードと次のカードの重ね表示
  - ドラッグ中の回転・透明度変化エフェクト
  - スワイプ方向に応じたカラーインジケーター
  - カード切り替え時のスムーズなアニメーション
- **状態管理機能**
  - スワイプ履歴の永続化
  - 気になる動物リストの管理
  - 特に気になる動物リストの管理
  - 進行状況の保存とリセット機能
#### 犬専用フィルタリング機能（DogMatch）
- **基本フィルター**
  - 犬種（柴犬、ゴールデンレトリバー、チワワ等）
  - 年齢範囲（子犬、成犬、シニア犬）
  - サイズ（小型犬、中型犬、大型犬、超大型犬）
  - 所在地からの距離
- **犬特有フィルター**
  - 運動量要件（低、中、高）
  - しつけレベル（基本済み、要訓練等）
  - 散歩頻度要件
  - 庭の必要性
  - 他の犬との相性
  - 子供との相性

#### 猫専用フィルタリング機能（CatMatch）
- **基本フィルター**
  - 猫種（雑種、ペルシャ、アメリカンショートヘア等）
  - 年齢範囲（子猫、成猫、シニア猫）
  - 毛の長さ（短毛、長毛）
  - 所在地からの距離
- **猫特有フィルター**
  - 社会性レベル（人懐っこい、シャイ、警戒心強い等）
  - 室内外適性（完全室内、室内外自由等）
  - 多頭飼い適性
  - グルーミング要件
  - 鳴き声レベル（静か、普通、よく鳴く）
  - 活動時間（昼型、夜型、どちらでも）
- **マッチング通知**
  - 相互マッチング成立通知
  - 新しい動物の追加通知

### 4. コミュニケーション機能
- **チャット機能**
  - 保護団体との直接メッセージ
  - 写真・動画共有
  - 音声メッセージ
- **面会予約機能**
  - カレンダー機能
  - 面会日時の調整
  - リマインダー通知

### 5. 検索・発見機能
- **詳細検索**
  - 複数条件での絞り込み
  - 保存済み検索条件
- **地図機能**
  - 近隣の保護動物表示
  - 保護団体の場所表示
- **レコメンデーション**
  - ユーザーの行動履歴に基づく推薦
  - 類似ユーザーの選択動物

### 6. お気に入り・履歴機能
- **お気に入りリスト（多層構造）**
  - 気になる動物リスト（Like）
  - 特に気になる動物リスト（Super Like）
  - パスした動物リスト（参考用）
  - 各リストでの個別管理とフィルタリング
  - メモ機能
- **スワイプ履歴管理**
  - 全スワイプアクションの時系列記録
  - 各動物に対するアクション履歴
  - 進行状況の可視化
  - リセット・再開機能
- **閲覧履歴**
  - 過去に見た動物の履歴
  - 再検索機能
  - 未完了セッションの復元機能

### 7. 譲渡プロセス管理
- **アプリケーション機能**
  - 譲渡申請フォーム
  - 必要書類のアップロード
  - 審査状況の確認
- **進捗管理**
  - 譲渡プロセスの段階表示
  - 次のステップの案内
  - 完了通知

### 8. 通知機能
- **プッシュ通知**
  - 新しいマッチング
  - メッセージ受信
  - 面会予約のリマインダー
  - 譲渡プロセスの更新
- **メール通知**
  - 重要な更新情報
  - 週間・月間サマリー

### 9. 管理機能（保護団体向け）
- **動物管理**
  - 動物情報の登録・編集
  - 譲渡状況の管理
  - 写真・動画の管理
- **申請者管理**
  - 譲渡申請の審査
  - 申請者とのコミュニケーション
  - 面会スケジュール管理
- **レポート機能**
  - マッチング統計
  - 譲渡成功率
  - ユーザーエンゲージメント

### 10. セキュリティ・プライバシー
- **データ保護**
  - 個人情報の暗号化
  - GDPR準拠
  - データ削除機能
- **安全機能**
  - 不適切コンテンツの報告
  - ユーザーブロック機能
  - 本人確認機能

### 11. 決済・寄付機能
- **譲渡費用決済**
  - クレジットカード決済
  - デジタルウォレット対応
- **寄付機能**
  - 保護団体への寄付
  - マンスリー寄付設定
  - 税控除対応レシート

### 12. コミュニティ機能
- **成功事例共有**
  - 譲渡成功後の写真・動画投稿
  - 体験談の共有
- **質問・相談**
  - Q&Aコミュニティ
  - 専門家による回答
- **イベント情報**
  - 譲渡会情報
  - ペット関連イベント

## 技術要件

### フロントエンド技術スタック
- **ウェブアプリケーション**: React 18+ + TypeScript 5+
- **ビルドツール**: Vite
- **スタイリング**: TailwindCSS + CSS-in-JS
- **UIコンポーネント**: shadcn/ui（カスタマイズ可能なコンポーネントライブラリ）
- **状態管理**: React Hooks（useState, useRef等）
- **ジェスチャー認識**: カスタムフック実装（マウス・タッチイベント対応）
- **モバイル対応**: React Native / Flutter（将来的）

### スワイプ機能実装詳細
- **ジェスチャー認識**: 
  - マウス・タッチの両方に対応
  - ドラッグ開始・移動・終了の各段階でのイベントハンドリング
  - 閾値ベースのスワイプ判定（水平: 100px、垂直: 120px）
- **アニメーション**:
  - CSS Transform を使用したスムーズなカード移動
  - ドラッグ中の回転エフェクト（X軸移動量 × 0.1度）
  - 透明度変化（移動距離に応じて0.7-1.0の範囲）
  - TailwindCSSカスタムアニメーション設定
- **状態管理パターン**:
  - カスタムフック（useSwipeGesture, useSwipeState）
  - 永続化可能な状態設計
  - 履歴管理とundoableパターン

### バックエンド・インフラ
- **バックエンド**: Node.js / Python / Java
- **データベース**: PostgreSQL / MongoDB
- **画像・動画ストレージ**: AWS S3 / Google Cloud Storage
- **通知サービス**: Firebase Cloud Messaging
- **決済**: Stripe / PayPal
- **地図サービス**: Google Maps API

## 対象プラットフォーム
- iOS（iPhone、iPad）
- Android
- ウェブブラウザ（レスポンシブ対応）

## ターゲットユーザー
- **主要ユーザー**: ペットを飼いたい個人・家族
- **保護団体**: 動物保護団体、動物愛護団体
- **年齢層**: 20-60代
- **地域**: 日本全国（段階的展開）