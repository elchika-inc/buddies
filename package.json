{
  "name": "pawmatch",
  "private": true,
  "version": "1.0.0",
  "type": "module",
  "description": "保護犬・保護猫とユーザーをマッチングするWebアプリケーション",
  "keywords": [
    "react",
    "typescript",
    "pet-adoption",
    "cloudflare-workers",
    "next.js"
  ],
  "workspaces": [
    "frontend",
    "api",
    "crawler",
    "dispatcher",
    "shared"
  ],
  "scripts": {
    "// Core": "=== 基本コマンド ===",
    "dev": "concurrently --names 'APP,API' --prefix-colors 'cyan,yellow' 'npm run dev:app' 'npm run dev:api'",
    "dev:all": "concurrently --names 'APP,API,CRAWLER,DISPATCH' --prefix-colors 'cyan,yellow,green,magenta' 'npm run dev --workspaces'",
    "build": "npm run build --workspaces --if-present",
    "test": "npm run test --workspaces --if-present",
    "lint": "npm run lint --workspaces --if-present",
    "lint:fix": "npm run lint:fix --workspaces --if-present",
    "type-check": "npm run type-check --workspaces --if-present",

    "// Workspace": "=== ワークスペース別 ===",
    "dev:app": "npm run -w @pawmatch/frontend dev",
    "dev:api": "npm run -w @pawmatch/api dev",
    "dev:crawler": "npm run -w @pawmatch/crawler dev",
    "dev:dispatcher": "npm run -w @pawmatch/dispatcher dev",
    "lint:app": "npm run -w @pawmatch/frontend lint",
    "lint:api": "npm run -w @pawmatch/api lint",
    "lint:crawler": "npm run -w @pawmatch/crawler lint",
    "lint:dispatcher": "npm run -w @pawmatch/dispatcher lint",
    "lint:shared": "npm run -w @pawmatch/shared lint",
    "type-check:app": "npm run -w @pawmatch/frontend type-check",
    "type-check:api": "npm run -w @pawmatch/api type-check",
    "type-check:crawler": "npm run -w @pawmatch/crawler type-check",
    "type-check:dispatcher": "npm run -w @pawmatch/dispatcher type-check",
    "type-check:shared": "npm run -w @pawmatch/shared type-check",

    "// Clean": "=== クリーンアップ ===",
    "clean:wrangler": "rm -rf api/.wrangler/tmp/* crawler/.wrangler/tmp/* dispatcher/.wrangler/tmp/* 2>/dev/null || true && echo 'Wrangler一時ファイルを削除しました'",
    "clean:dist": "rm -rf */dist/* && echo 'ビルド成果物を削除しました'",
    "clean:all": "npm run clean:wrangler && npm run clean:dist && echo '全クリーンアップ完了'",

    "// Deploy": "=== デプロイ ===",
    "deploy:dog": "npm run -w @pawmatch/frontend deploy:dog",
    "deploy:cat": "npm run -w @pawmatch/frontend deploy:cat",
    "deploy:api": "npm run -w @pawmatch/api deploy",
    "deploy:crawler": "npm run -w @pawmatch/crawler deploy",
    "deploy:dispatcher": "npm run -w @pawmatch/dispatcher deploy",
    "deploy:workers": "concurrently 'npm:deploy:api' 'npm:deploy:crawler' 'npm:deploy:dispatcher'",
    "deploy:all": "npm run deploy:workers && npm run deploy:dog && npm run deploy:cat",

    "// Database": "=== データベース ===",
    "db:push": "npm run -w @pawmatch/api run drizzle-kit push",
    "db:studio": "npm run -w @pawmatch/api run drizzle-kit studio",
    "db:generate": "npm run -w @pawmatch/api run drizzle-kit generate",
    "db:reset": "rm -f api/.wrangler/state/v3/d1/miniflare-D1DatabaseObject/*.sqlite && npm run db:push",

    "// Monitoring": "=== モニタリング ===",
    "tail": "npm run -w @pawmatch/api tail",
    "tail:crawler": "npm run -w @pawmatch/crawler tail",
    "tail:dispatcher": "npm run -w @pawmatch/dispatcher tail",

    "// Maintenance": "=== メンテナンス ===",
    "clean": "rm -rf node_modules **/node_modules **/dist **/.next **/.wrangler",
    "clean:cache": "rm -rf **/.next/cache **/.wrangler/tmp",
    "reinstall": "npm run clean && npm install",
    "format": "prettier --write \"**/*.{js,ts,tsx,json,md}\"",
    "postinstall": "echo 'All dependencies installed successfully!'",
    "prepare": "husky"
  },
  "devDependencies": {
    "@cloudflare/workers-types": "^4.20250906.0",
    "@types/node": "^20.16.0",
    "concurrently": "^8.2.2",
    "prettier": "^3.6.2",
    "type-coverage": "^2.29.7",
    "typescript": "^5.6.0"
  },
  "engines": {
    "node": ">=18.0.0",
    "npm": ">=9.0.0"
  },
  "packageManager": "npm@10.8.2",
  "lint-staged": {
    "*.{js,ts,tsx,json,md}": [
      "prettier --write"
    ]
  }
}