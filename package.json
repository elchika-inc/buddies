{
  "name": "pawmatch",
  "private": true,
  "version": "1.0.0",
  "type": "module",
  "description": "保護犬・保護猫とユーザーをマッチングするWebアプリケーション",
  "keywords": [
    "react",
    "typescript",
    "pet-adoption",
    "cloudflare-workers",
    "next.js"
  ],
  "workspaces": [
    "app",
    "api",
    "crawler",
    "dispatcher"
  ],
  "scripts": {
    "dev": "concurrently --names 'APP,API' --prefix-colors 'cyan,yellow' 'cd app && npm run dev' 'cd api && npm run dev'",
    "dev:all": "concurrently --names 'APP,API,CRAWLER,DISPATCH' --prefix-colors 'cyan,yellow,green,magenta' 'cd app && npm run dev' 'cd api && npm run dev' 'cd crawler && npm run dev' 'cd dispatcher && npm run dev'",
    "dev:app": "cd app && npm run dev",
    "dev:api": "cd api && npm run dev",
    "dev:crawler": "cd crawler && npm run dev",
    "dev:dispatcher": "cd dispatcher && npm run dev",
    "dev:dog": "cd app && npm run dev:dog",
    "dev:cat": "cd app && npm run dev:cat",
    "build": "cd app && npm run build",
    "build:all": "concurrently --names 'APP,API' 'cd app && npm run build' 'cd api && npm run build'",
    "type-check": "cd app && npm run type-check",
    "lint": "cd app && npm run lint",
    "lint:fix": "cd app && npm run lint:fix",
    "format": "prettier --write \"**/*.{js,ts,tsx,json,md}\"",
    "deploy:dog": "cd app && npm run deploy:dog",
    "deploy:cat": "cd app && npm run deploy:cat",
    "deploy:apps": "npm run deploy:dog && npm run deploy:cat",
    "deploy:api": "cd api && npm run deploy",
    "deploy:crawler": "cd crawler && npm run deploy",
    "deploy:dispatcher": "cd dispatcher && npm run deploy",
    "deploy:workers": "concurrently --names 'API,CRAWLER,DISPATCH' --prefix-colors 'yellow,cyan,magenta' 'npm run deploy:api' 'npm run deploy:crawler' 'npm run deploy:dispatcher'",
    "deploy:all": "npm run deploy:apps && npm run deploy:workers",
    "api:tail": "cd api && wrangler tail",
    "api:type-check": "cd api && tsc --noEmit",
    "db:init": "cd api && wrangler d1 execute pawmatch-db --local --file=./database/migrations/0001_initial_schema.sql",
    "db:migrate": "cd api && wrangler d1 migrations apply pawmatch-db --local",
    "db:migrate:prod": "cd api && wrangler d1 migrations apply pawmatch-db --remote",
    "db:reset": "npm run db:reset:drop && npm run db:reset:push",
    "db:reset:drop": "cd api && rm -f .wrangler/state/v3/d1/miniflare-D1DatabaseObject/*.sqlite || true",
    "db:reset:push": "cd api && drizzle-kit push",
    "db:generate": "cd api && drizzle-kit generate",
    "db:push": "cd api && drizzle-kit push",
    "db:path": "find api/.wrangler/state/v3/d1/miniflare-D1DatabaseObject -name '*.sqlite' -not -name '*-*' 2>/dev/null | head -1",
    "db:setup-shared": "./scripts/api/setup-shared-d1.sh",
    "db:studio": "cd api && drizzle-kit studio",
    "db:studio:prod": "cd api && drizzle-kit studio --config drizzle.config.prod.ts",
    "db:generate:prod": "cd api && drizzle-kit generate:sqlite --config drizzle.config.prod.ts",
    "db:push:prod": "cd api && drizzle-kit push:sqlite --config drizzle.config.prod.ts",
    "crawler:test": "cd crawler && npm test",
    "crawler:dogs": "cd crawler && npm run crawl:dogs",
    "crawler:cats": "cd crawler && npm run crawl:cats",
    "crawl:pethome": "cd crawler && npm run crawl:pethome",
    "crawl:pethome:dogs": "cd crawler && npm run crawl:pethome:dogs",
    "crawl:pethome:cats": "cd crawler && npm run crawl:pethome:cats",
    "crawl:pethome:all": "cd crawler && npm run crawl:pethome:all",
    "clean": "rm -rf node_modules app/node_modules api/node_modules crawler/node_modules dispatcher/node_modules",
    "clean:all": "rm -rf node_modules package-lock.json app/node_modules app/package-lock.json api/node_modules api/package-lock.json crawler/node_modules crawler/package-lock.json dispatcher/node_modules dispatcher/package-lock.json",
    "clean:cache": "npm cache clean --force",
    "reinstall": "npm run clean:all && npm run clean:cache && npm run install:all",
    "reinstall:quick": "npm run clean:all && npm run install:all",
    "install:all": "npm install && cd app && npm install && cd ../api && npm install && cd ../crawler && npm install && cd ../dispatcher && npm install",
    "setup-shared-d1": "./scripts/api/setup-shared-d1.sh"
  },
  "devDependencies": {
    "@cloudflare/workers-types": "^4.20240117.0",
    "@libsql/client": "^0.10.0",
    "@types/node": "^20.16.0",
    "better-sqlite3": "^11.1.1",
    "concurrently": "^8.2.2",
    "drizzle-kit": "^0.31.4",
    "drizzle-orm": "^0.44.4",
    "prettier": "^3.6.2",
    "typescript": "^5.6.0",
    "wrangler": "^4.33.0"
  },
  "engines": {
    "node": ">=18.0.0",
    "npm": ">=9.0.0"
  },
  "packageManager": "npm@10.8.2"
}
